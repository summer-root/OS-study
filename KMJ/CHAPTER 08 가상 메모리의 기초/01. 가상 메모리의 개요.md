# 가상 메모리의 개요
## 가상 메모리 시스템
### 가상 메모리의 개념
메모리의 크기는 컴퓨터마다 다른데 운영체제가 물리 메모리의 크기에만 의존한다면 2GB의 메모리에서 동작하는 프로그램이 1GB의 메모리에서 동작하지 않을 수 있다.<br>
프로그래머 또한 메모리 크기에 맞는 운영 프로그램만 개발해야 하는데, 실제 메모리 크기를 고려하여 프로그래밍하기란 매우 어렵고 제약이 많다.<br>
<br>
현대 메모리 관리의 가장 큰 특징은 물리 메모리의 크기와 프로세스가 올라갈 메모리의 위치를 신경 쓰지 않고 프로그래밍하도록 지원한다는 것으로 이러한 메모리 시스템을 가상 메모리(virtual memory)라고 부른다.<br>
따라서 가상 메모리를 사용하면 다른 물리 메모리에서 일관되게 프로세스를 실행할 수 있다.<br>

### 가상 메모리의 크기와 주소
가상 메모리 시스템의 모든 프로세스는 물리 메모리와 별개로 자신이 메모리의 어느 위치에 있는지 상관없이 0번지부터 시작하는 연속된 메모리 공간을 가진다.<br>
이는 논리 주소와 유사하지만 논리 주소의 경우 물리 메모리의 주소 공간에 비례하고, 가상 주소는 물리 메모리 공간이 아닌 가상의 주소를 가진다는 차이점이 있다.<br>
<br>
가상메모리는 크게 프로세스가 바라보는 메모리영역과 메모리 관리자가 바라보는 메모리 영역으로 나뉜다.<br>
![](https://blog.kakaocdn.net/dn/8fRnk/btrLvI1i4NI/FmssDKIZ35SdDJrEcotqcK/img.png)<br>
이론적으로 가상메모리는 무한대의 크기이지만 실제로 가상 메모리의 최대 크기는 그 컴퓨터 시스템이 가진 물리 메모리의 최대 크기로 한정되며, CPU의 비트에 따라 결정된다.<br>
32bit CPU의 경우 32bit로 표현할 수 있는 최댓값인 2³²-1(16진수로는 FFFFFFFF), 즉 4GB가 메모리의 최대 크기이고 가상 메모리의 최대 크기도 약 4GB이다.<br>

가상 메모리가 실제로 사용할 수 있는 최대 크기의 제약이 있음에도 불구하고 무한대의 크기가 있는 것처럼 구현할 수 있는 이유는 다음과 같다.<br>
최대 크기보다 더 많은 크기의 공간을 사용하고자 할 경우에 가상메모리 시스템에서는 물리 메모리의 내용 중 일부를 하드디스크 일부 공간인 스왑 영역으로 옮긴다.<br>
스왑 영역은 하드디스크에 존재하지만 메모리 관리자가 관리하는 영역으로서 메모리의 일부이며, 가상 메모리의 구성요소 중 하나이다.<br>
메모리 관리자는 물리 메모리의 부족한 부분을 스왑영역으로 보충한다.<br>
물리 메모리가 꽉 찼을 경우에는 일부 프로세스를 스왑영역으로 보내는 스왑 아웃, 프로세스가 작업을 마치면 스왑 영역에 있는 프로세스를 메모리로 가져오는 스왑인이 이것이다. <br>
