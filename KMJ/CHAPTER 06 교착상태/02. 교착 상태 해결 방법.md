# 교착 상태 해결 방법
## 교착 상태 해결 방법
- 교착 상태 예방 : 교착상태는 상호 배제, 비선점, 점유와 대기, 원형 대기라는 네가지 조건을 동시에 충족해야 발생하기 때문에 이 중 하나라도 무력화 되면 교착상태가 발생하지 않는다. 실효성이 적어 잘 사용되지 않는다.
- 교착 상태 회피 : 자원을 할당하다가 교착 상태를 유발할 가능성이 있다고 판단되면 자원 할당을 중단하고 지켜본다. 자원을 얼마만큼 할당해야 교착상태가 발생하지 않는다는 보장이 없기때문에 실효성이 적다.
- 교착 상태 검출 : 자원 할당 그래프를 사용하여 교착상태를 발견. 교착상태 발생시 교착 상태 회복단계가 실행된다.
- 교착 상태 회복 : 교착 상태를 검출한 후 해결하는 현실적인 접근 방법이다

------------

## 교착 상태 예방
### 상호 배제 예방
시스템 내에 있는 상호 배타적인 모든 자원, 즉 독점적으로 사용할 수 있는 자원을 없애버려 교착상태가 발생하지 않도록 한다.<br>
그러나 현실적으로는 모든 자원을 공유할 수 없으며 상호 배제를 적용하여 보호해야 하는 자원이 있다. 또한 시스템 내에는 공유할 수 없는 자원이 있다.<br>
따라서 상호 배제를 무력화 하는것은 사실상 어렵다.<br>

### 비선점 예방
모든 자원을 빼앗을수 있도록 만드는 방법이다. <br>
식사하는 철학자 문제에서 옆 사람의 포크를 빼앗을수 있다면 교착상태가 발생하지 않지만, 임계구역을 보호하기 위해 잠금을 사용하면 자원을 빼앗을수 없을 뿐만 아니라 상호배제도 보장할 수 없다. <br>
따라서 시스템의 모드 자원을 빼앗을수 있도록 하기 어려우며 빼앗을수 있더라도 어떤 기준으로 빼앗을지, 빼앗을 시간 중 얼마나 사용할지 결정하기 어렵다.<br>
또한 아사현상을 일으킨다는 문제가 있다. <br>
아사현상은 주로 에이징을 사용하여 해결하지만 우선수위가 낮은 프로세스가 몇 번을 양보한 끝에 무조건 자원을 사용한다고 가정하면 이 프로세스가 점유하고 있는 자원은 비선점 자원이되어 다시 교착상태에 빠질수 있기때문에 에이징을 사용하기 어렵고 비선점 조건을 무력화하기 어렵다.<br>

### 점유와 대기 예방
프로세스가 자원을 점유한 상태에서 다른 자원을 기다리지 못하게 하는 방법으로 "전부 할당하거나 아니면 아예 할당하지 않는" 방식을 적용하는것이다.<br>
이를 위해 프로세스는 시작 초기에 자신이 사용하려는 모든 자원을 한꺼번에 점유하거나, 그렇지 못할 경우 자원을 모두 할당해야 한다.<br>
이 방법은 식사하는 철학자 문제에서 왼쪽 포크를 잡은 상태에서 오른쪽 포크를 잡지 못하도록 막는것과 같은데, 철학자들은 식사를 시작할때 양손에 포크를 잡아야 하며 그렇게 할 수 없으면 잡았던 포크를 내려놓아야 한다.<br>
따라서 동작이 빠른 철학자가 먼저 식사를 할 수 있다.<br>

