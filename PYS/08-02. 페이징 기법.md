# 02 페이징 기법

## 1 페이징 기법의 구현
- 페이징 기법: 고정 분할 방식을 이용한 가상 메모리 관리 기법으로, 물리 주소 공간을 같은 크기로 나누어 사용
- 가상 주소는 프로세스 입장에서 바라본 메모리 공간으로, 항상 0번지부터 시작함
    - 가상 주소의 분할된 각 영역은 __페이지__ 라고 부르며, 첫 번째 영역은 페이지 0, 두 번째 영역은 페이지 1과 같이 번호를 매겨 관리
- 물리 메모리의 각 영역은 가상 주소의 페이지와 구분하기 위해 __프레임__ 이라고 부름
    - 프레임도 페이지와 마찬가지로 번호를 매겨 관리
- 페이지와 프레임의 크기는 같음
    - 페이지와 프레임은 크기가 같기 때문에 페이지는 어떤 프레임에든 배치될 수 있음
    - 모든 페이지의 위치 정보, 즉 어떤 페이지가 어떤 프레임에 있는지에 대한 연결(매핑) 정보는 __페이지 테이블__ 에 담겨 있음
- 페이지 테이블은 하나의 열(column)로 구성됨
    - 모든 페이지의 정보를 순서대로 가지고 있기 때문에 위에서부터 차례대로 프레임 번호를 가지고 있어 추가 열이 필요 없음
    - invalid는 해당 페이지가 스왑 영역에 있다는 의미

## 2 페이징 기법의 주소 변환
## 2.1 주소 변환 과정
- 페이징 기법에서 가상 주소가 물리 주소로 변환되는 과정
- 예시) 가상 주소 공간과 물리 주소 공간이 똑같이 10B씩 나누어져 있을 때(한 페이지/프레임은 10개의 주소를 가짐), 프로세스가 30번지의 내용을 읽으려고(read) 할 때의 주소 변환 과정
    1. 가상 주소 30번지가 어느 페이지에 있는지 찾음  
       30번지는 페이지 3의 0번째 위치에 있음
    2. 페이지 테이블의 페이지 3으로 가서 해당 페이지가 프레임 1에 있다는 것을 알아냄
    3. 물리 메모리 프레임 1의 0번쨰 위치에 접근함  
       이 주소가 가상 메모리 30번지의 물리 주소임


## 2.2 정형화된 주소 변환
- 페이징 기법에서는 가상 주소를 VA=<P, D>로 표현함
    - VA는 가상 주소(virtual address), P는 페이지(page), D는 페이지의 처음 위치에서 해당 주소까지의 거리(distance)를 의미  
      (D를 오프셋(offset, 변위)이라고 정의하기도 함)
- 페이징 기법에서의 주소 변환은 가상 주소 VA=<P, D>를 물리 주소 PA=<F, D>로 변환하는 것
    - PA는 물리 메모리의 주소를 가리키는 용어로 물리 주소 또는 실제 주소라고 함  
      F는 프레임(frame), D는 프레임의 처음 위치에서 해당 주소까지의 거리(distance)를 의미

- 페이징 기법의 주소 변환
>>>
    VA = <P, D> -> PA = <F, D>
>>>
- VA=<P, D>가 PA=<F, D>로 변환될 때 페이지 테이블을 사용하여 P를 F로 바꾸고, 페이지와 프레임의 크기를 똑같이 나누었기 때문에 D는 변경 없이 그대로 씀
- 페이지 테이블을 이용하면 간단하게 가상 주소를 물리 주소로 변환할 수 있음
    - 페이지 테이블은 페이지 번호, 프레임 번호로 구성되며, 각각의 한 줄은 페이지 테이블 엔트리(Page Table Entry, PTE)라고 부름


