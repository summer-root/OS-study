# 01 가상 메모리의 개요
- 가상 메모리(virtual memory)는 컴퓨터마다 크기가 다른 물리 메모리(실제 메모리)에서 일관되게 프로세스를 실행할 수 있는 기술

## 1 가상 메모리 시스템
### 1.1 가상 메모리의 개념
- 가상 메모리는 물리 메모리의 크기에 상관없이 프로세스에 커다란 메모리 공간을 제공하는 기술
- 현대 메모리 관리의 가장 큰 특징
- 프로세스는 운영체제가 어디에 있는지, 물리 메모리의 크기가 어느 정도인지 신경 쓰지 않고 메모리를 마음대로 사용할 수 있음

## 1.2 가상 메모리의 크기와 주소
- 가상 메모리 시스템의 모든 프로세스는 물리 메모리와 별개로 자신이 메모리의 어느 위치에 있는지 상관없이 0번지부터 시작하는 연속된 메모리 공간을 가짐
- 논리 주소와 유사하지만, 논리 주소는 물리 메모리의 주소 공간에 비례하고, 가상 주소는 물리 메모리 공간이 아닌 가상의 주소 공간을 가진다는 차이점이 있음
- 이론적으로 가상 메모리는 무한대의 크기이나, 실제로 가상 메모리의 최대 크기는 그 컴퓨터 시스템이 가진 물리 메모리의 최대 크기로 한정되며, CPU의 비트에 따라 결정됨
- 실제로 사용할 수 있는 최대 크기의 제약에도 불구하고 이론적으로 무한대의 크기가 있는 것처럼 가상 메모리를 구현할 수 있는 이유는 __스왑 영역__
    - 스왑 영역은 하드디스크에 존재하지만 메모리 관리자가 관리하는 영역으로서 메모리의 일부이며, 가상 메모리의 구성 요소 중 하나
    - 메모리 관리자는 물리 메모리의 부족한 부분을 스왑 영역으로 보충함
- 가상 메모리 시스템에서 메모리 관리자는 물리 메모리와 스왑 영역을 합쳐서 프로세스가 사용하는 가상 주소를 실제 메모리의 물리 주소로 변환하는데, 이를 __동적 주소 변환__ (Dynamic Address Translation, DAT)이라고 함
    - 동적 주소 변환을 거치면 프로세스가 아무 제약 없이 사용자의 데이터를 물리 메모리에 배치할 수 있음

### 1.3 가상 메모리의 메모리 분할 방식
- 가상 메모리 시스템에서는 운영체제를 제외한 나머지 메모리 영역을 일정한 크기로 나누어 일반 프로세스에 할당함
- 메모리 분할 방식
    - 세그먼테이션: 가상 메모리 시스템에서 가변 분할 방식을 이용한 메모리 관리 기법
        - 가변 분할 방식의 단점인 외부 단편화 등의 문제 때문에 잘 사용하지 않음
    - 페이징: 가상 메모리 시스템에서 고정 분할 방식을 이용한 메모리 관리 기법
        - 페이지 관리에 어려움이 있음
    - 가상 메모리 시스템에서는 두 기법의 단점을 보완한 __세그먼테이션-페이징 혼용 기법__ 을 주로 사용함

## 2 매핑 테이블의 필요성과 역할
- 가상 메모리 시스템에서 가상 주소는 실제로 물리 주소나 스왑 영역 중 한 곳에 위치하며, 메모리 관리자는 가상 주소와 물리 주소를 일대일 매핑 테이블로 관리함
- 페이지 매핑 테이블 / 페이지 테이블 : 페이징 기법에서 사용하는 매핑 테이블
- 세그먼테이션 매핑 테이블 / 세그먼테이션 테이블 : 세그먼테이션 기법에서 사용하는 매핑 테이블