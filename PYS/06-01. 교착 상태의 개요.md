# 01 교착 상태의 개요
## 1 교착 상태의 정의
- dead lock
- 2개 이상의 프로세스가 다른 프로세스의 작업이 끝나기만을 기다리며 작업이 더 이상 진행하지 못하는 상태
- 교착 상태는 아사 현상과 비슷해 보이지만 차이점이 있음
    - 아사 현상: 운영체제가 잘못된 정책을 사용하여 특정 프로세스의 작업이 지연되는 문제
    - 교착 상태: 여러 프로세스가 작업을 진행하다 보니 자연적으로 일어나는 문제  
    -> 운영체제는 감시를 하다가 교착 상태가 발생하면 강압적으로 해결해야 함

## 교착 상태의 발생
- 컴퓨터 시스템에서 교착 상태는 시스템 자원, 공유 변수(또는 파일), 응용 프로그램 등을 사용할 때 발생 가능
- 시스템 자원
    - 교착 상태는 __다른 프로세스와 공유할 수 없는 자원__ 을 사용할 때 발생
    - 프로세스가 임계구역으로 보호되는 동시에 같이 사용할 수 없는 시스템 자원을 할당받은 후 양보하지 않는 경우
        - 임계구역: 공유 자원 접근 순서에 따라 실행 결과가 달라지는 프로그램의 영역
- 공유 변수
    - 한 공유 변수를 할당받은 상태에서 다른 공유 변수를 기다리면 교착 상태 발생
- 응용 프로그램
    - 데이터베이스는 데이터의 일관성을 유지하기 위해 잠금을 사용하는데, 이때 교착 상태 발생 가능
        - 05-03. 임계구역 해결 방법 2.2 한정 대기 문제
            - 교착 상태: 프로세스가 살아 있으나 작업이 진행되지 못하는 상태 (무한 루프에 빠져서 임계구역에 진입하지 못함, 한정 대기 조건을 보장하지 못하는 상황)

## 3 자원 할당 그래프
- 프로세스가 어떤 자원을 사용 중이고 어떤 자원을 기다리고 있는지를 방향성이 있는 그래프로 표현한 것
- 프로세스는 원으로, 자원은 사각형으로 표현
- 자원을 사용하고 있는 경우(할당된 경우): 자원으로부터 프로세스로 향하는 화살표로 표시
- 프로세스가 자원을 기다리는 경우(대기하는 경우): 프로세스로부터 자원으로 향하는 화살표로 표시
    - 점선: 프로세스가 미래에 자원을 요청할 수도 있는 경우 점선으로 표시
    - 실선: 프로세스가 해당 자원 요청 시 실선으로 표시
- 다중 자원 (multiple resource)
    - 여러 프로세스가 동시에 사용할 수 있는 자원
    - 수용할 수 있는 프로세스 수를 사각형 안의 작은 동그라미로 표현

### 식사하는 철학자 문제
- 철학자 4명이 둥그런 탁자에 둘러앉아 식사를 하는데, 왼쪽에 있는 포크를 잡은 뒤 오른쪽에 있는 포크를 잡아야만 식사가 가능함

### 교착 상태가 발생하는 조건
- 자원을 공유하지 못하면 교착 상태 발생
- 자원을 빼앗을 수 없으면 자원을 놓을 떄까지 기다려야 하므로 교착 상태 발생
- 자원 하나를 잡은 상태에서 다른 자원을 기다리면 교착 상태 발생
- 자원을 요구하는 방향이 원을 이루면 양보를 하지 않기 때문에 교착 상태 발생