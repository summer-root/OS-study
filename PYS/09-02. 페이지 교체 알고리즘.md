# 02 페이지 교체 알고리즘
- 메모리가 꽉 찼을 때 어떤 페이지를 스왑 영역으로 내보낼지 결정하는 재배치 정책 알아보기

## 1 페이지 교체 알고리즘의 개요
- 페이지 부재가 발생하면 스왑 영역에서 페이지를 메모리로 가져오는데, 이때 메모리가 꽉 찼다면 메모리에 있는 페이지를 스왑 영역으로 내보내야 함
- 페이지 교체 알고리즘
    - 스왑 영역으로 보낼 페이지를 결정하는 알고리즘
    - 메모리에서 앞으로 사용할 가능성이 적은 페이지를 대상 페이지로 선정하여 페이지 부재를 줄이고 시스템의 성능을 향상시킴

## 2 무작위 페이지 교체 알고리즘
- 페이지 교체 알고리즘 중 가장 간단하게 구현할 수 있는 방식
- 스왑 영역으로 쫓아낼 대상 페이지를 특별한 로직 없이 무작위로 선정
- 무작위 알고리즘은 지역성을 전혀 고려하지 않기 때문에 자주 사용하는 페이지가 대상 페이지로 선정되기도 함
- 알고리즘의 성능이 좋지 않아 거의 사용되지 않음

## 3 FIFO 페이지 교체 알고리즘
- 시간상으로 메모리에 가장 먼저 들어온 페이지를 대상 페이지로 선정하여 스왑 영역으로 쫓아냄
- 메모리에 먼저 올라왔어도 자주 사용되는 페이지가 있기도 한데, FIFO 페이지 교체 알고리즘은 무조건 오래된 페이지를 대상 페이지로 선정하기 때문에 성능이 떨어짐

## 4 최적 페이지 교체 알고리즘
- 앞으로 사용하지 않을 페이지를 스왑 영역으로 옮김
- 메모리가 앞으로 사용할 페이지를 미리 살펴보고 페이지 교체 선정 시점부터 사용 시점까지 가장 멀리 있는 페이지를 대상 페이지로 선정
- 미래의 메모리 접근 패턴을 보고 대상 페이지를 선정하기 때문에 성능이 좋지만, 미래의 접근 패턴을 안다는 것이 불가능하여 실제로 구현할 수 없음
- 구현이 가능하면서도 성능이 최적 페이지 교체 알고리즘에 근접하는 방법인 __최적 근접 알고리즘__ 이 개발됨
- __최적 근접 알고리즘__
    - 구현이 가능하면서도 성능이 최적 페이지 교체 알고리즘에 근접
    - 과거의 데이터를 바탕으로 미래의 접근 패턴을 추정
    - LRU, LFU, NUR 등

## 5 LRU 페이지 교체 알고리즘
- Least Recently Used page replacement algorithm
- 최근 최소 사용 페이지 교체 알고리즘
- 메모리에 올라온 후 가장 오랫동안 사용되지 않은 페이지를 스왑 영역으로 옮김
- 시간을 기준으로 구현할 수 있으며, 카운터나 참조 비트를 이용하는 방법도 있음
- LRU 페이지 교체 알고리즘의 단점은 접근 시간이나 참조 비트를 유지하기 위해 메모리가 추가로 필요하기 떄문에 낭비되는 메모리 공간이 많다는 것

## 6 LFU 페이지 교체 알고리즘
- Least Frequently Used page replacement algorithm
- 최소 빈도 사용 알고리즘
- 페이지가 몇 번 사용되었는지를 기준으로 대상 페이지를 선정
- LFU 페이지 교체 알골리즘의 단점은 페이지 접근 횟수(빈도)를 표시하는 데 추가 공간이 필요하므로 낭비되는 메모리 공간이 많다는 것

## 7 NUR 페이지 교체 알고리즘
- Not Used Recently page replacement algorithm
- 최근 미사용 페이지 교체 알고리즘
- - LRU, LFU 페이지 교체 알고리즘과 성능이 거의 비슷하면서도 불필요한 공간 낭비 문제를 해결한 알고리즘
- NUR 페이지 교체 알고리즘에서는 페이지마다 참조 비트와 변경 비트를 가지므로 페이지마다 추가되는 메모리 공간이 2비트임
    - 참조 비트: PTE의 접근 비트, 초깃값 0, 페이지에 접근하면 1이 됨
    - 변경 비트: PTE의 변경 비트, 초깃값 0, 페이지가 변경되면 1이 됨
- 모든 페이지의 초기 상태는 (0, 0)
- 우선 고려 대상은 참조 비트
- 모든 페이지의 비트가 (1, 1)이 되면 어떤 페이지가 더 자주 사용되는지 알 수 없어 NUR 페이지 교체 알고리즘이 정상적으로 적용될 수 없으므로, 모든 페이지의 비트를 (0, 0)으로 초기화함

## 8 FIFO 변형 알고리즘
- FIFO 페이지 교체 알고리즘의 방식을 기본으로 하되, 페이지에 접근할 때마다 순서에 변화를 주어 성능응ㄹ 향상시킴

### 8.1 2차 기회 페이지 교체 알고리즘
- FIFO 페이지 교체 알고리즘과 마찬가지로 큐를 사용하지만, 특졍 페이지에 접근하여 페이지 부재 없이 성공할 경우 해댱 페이지를 큐의 맨 뒤로 이동하여 대상 페이지에서 제외함
- 성능이 최적 근접 알고리즘보다 약간 낮고, FIFO 페이지 교체 알고리즘보다 약간 높지만,  
큐를 유지하는 비용이 높고, 페이지가 성공하면 큐의 중간에 있는 값을 뒤로 이동하는 작업이 추가되는 것이 단점

### 8.2 시계 알고리즘
- 2차 기회 페이지 교체 알고리즘과 유사하지만,  
2차 기회 페이지 교체 알고리즘은 큐를 사용하고, 시계 알고리즘은 원형 큐를 사용함
- 시계 알고리즘에서는 스왑 영역으로 옮길 대상 페이지를 가리키는 포인터를 사용하는데, 이 포인터가 큐의 맨 바닥으로 내려가면 다음 번에는 다시 큐의 처음을 가리키게 됨
- 각 페이지가 참조 비트가 하나씩 추가됨
- 대상 포인터와 각 페이지 당 참조 비트 하나만 추가하면 되기 때문에 NUR 페이지 교체 알고리즘보다 추가 공간이 적게 들지만 알고리즘이 복잡하고 계산량이 많은 것이 단점