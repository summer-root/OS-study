# 디렉터리의 구조

## 디렉터리의 개념

디렉터리는 관련 있는 파일을 하나로 모아 놓은 곳이다. 1개 이상의 자식 디렉터리를 가질 수 있고 1개 이상의 파일을 가질 수 있다.

디렉터리는 여러 층으로 구성할 수 있는데, 이때 최상위에 있는 디렉터리를 루트 디렉터리라고 한다. 슬래시(/)로 루트 디렉터리를 표현한다.

<br>



유닉스에서는 슬래시를 루트 디렉터리를 표시할 때 뿐 아니라 디렉터리와 디렉터리 사이의 구분자로도 사용한다. 윈도우에서는 루트 디렉터리와 파티션의 이름을 같이 사용한다. 파티션의 이름은 알파벳과 콜론으로 구성되며 루트 디렉터리와 디렉터리의 구분자로 백슬래시를 사용한다.

<br>



## 디렉터리 파일

디렉터리도 파일이다. 일반 파일에는 데이터가 담겨 있고 디렉터리에는 파일 정보가 담겨 있다. 디렉터리도 일반 파일과 마찬가지로 헤더를 가진다. 디렉터리 헤더에는 디렉터리의 이름, 만든 시간, 접근 권한 등의 정보가 기록되어 있다.

디렉터리에는 마침표 파일과 2개 마침표 파일이 있다. 마침표 파일은 자기 자신의 디렉터리를 가리키고, 2개 마침표 파일은 상위 디렉터리를 가리킨다.

<br>



## 경로

파일이 전체 디렉터리 중 어디에 있는지를 나타내는 정보이다. 따라서 파일 이름 앞에 경로를 표시하면 어느 위치에 있는 파일인지 명확히 알 수 있다. 

- 절대 경로 : 루트 디렉터리를 기준으로 파일의 위치를 나타내는 방식
- 상대 경로 : 현재 있는 위치를 기준으로 파일의 위치를 표시하는 방식

<br>



디렉터리를 이동할 때는 cd 명령을 사용한다. 해당 명령어는 절대 경로와 상대 경로를 모두 사용할 수 있는데, 현재 위치보다 아래에 있는 데이터에 접근할 때는 상대 경로를 사용하고 다른 디렉터리로 이동할 때는 절대 경로를 사용한다. 

<br>



## 디렉터리 구조

초기 파일 시스템의 디렉터리는 1단계 구조였다. 1단계 디렉터리 구조에서는 루트 디렉터리에 새로운 디렉터리를 만들 수 있디만 디렉터리 안에 자식 디렉터리를 만들 수는 없다. 디렉터리 안에는 파일만 존재한다.

1단계 디렉터리 구조는 단순하지만 파일이 많아지면 불편하기 때문에 다단계 디렉터리 구조가 등장했다. 다단계 디렉터리 구조는 트리 디렉터리 구조라고도 하며, 단계 확장에 제약이 없다.

자료 구조에서는 트리를 순환이 없는 그래프라고 정의한다. 다단계 디렉터리 구조는 순환이 없기 때문에 트리 구조이다. 그러나 오늘날의 디렉터리 구조에는 순환이 있다. 기본적으로는 트리 구조이지만 디렉터리와 디렉터리를 연결하는 링크가 있기 때문이다. (ex. 윈도우의 바로가기, 유닉스의 ln 명령어)

<br>



## 마운트

마운트는 여러 개의 파티션을 통합하는 명령어이다. 

마운트를 이용하여 파티션 2의 루트 디렉터리를 파티션 1의 /mnt 디렉터리에 불이면 2개의 파티션이 하나로 합쳐진다. 이때 /mnt를 마운트 연결 지점이라고 부른다.

마운트를 사용하면 디렉터리를 이동할 때마다 다른 파티션으로 넘어가지만 사용자는 이를 알 수 없다. CD-ROM이나 USB 메모리 같은 외부 저장장치도 마운트로 파티션에 붙이고 마운트 해제로 분리할 수 있다.