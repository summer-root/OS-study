# 공유 자원과 임계구역

## 공유 자원의 접근

공유 자원(shared resource) :  여러 프로세스가 공동으로 이용하는 변수, 메모리, 파일 등

공유 자원은 공동으로 이용되기 때문에 누가 언제 데이터를 읽거나 쓰느냐에 따라 결과가 달라질 수 있다. 따라서 프로세스들의 공유 자원 접근 순서를 정해 예상치 못한 문제가 발생하지 않도록 해야 한다.

경쟁 조건(race condition) : 2개 이상의 프로세스가 공유 자원을 병행적으로 읽거나 쓰는 상황으로 경쟁 조건이 발생하면 공유 자원 접근 순서에 따라 실행 결과가 달라질 수 있음

<br>



## 임계구역

임계구역(critical section) : 공유 자원 접근 순서에 따라 실행 결과가 달라지는 프로그램의 영역

임계구역에서는 프로세스들이 동시에 작업해서는 안 되며, 어떤 프로세스가 임계구역에 있는 경우 다른 프로세스는 임계구역 밖에서 기다리다가 임계구역의 프로세스가 나와야 들어갈 수 있다.

<br>



## 생산자-소비자 문제

생산자-소비자 문제에서는 생산자 프로세스와 소비자 프로세스가 서로 독립적으로 작업을 한다. 생산자는 계속 물건을 생산해 버퍼에 넣고, 소비자는 계속 버퍼에서 물건을 가져온다. 이때 같이 사용하는 전역 변수에 접근하는 타이밍을 서로 맞추지 않고 동시에 실행되면 문제가 발생하게 된다.

<br>



## 임계구역 해결 조건

임계구역을 해결하기 위해서는 다음 조건을 모두 만족해야 한다.

- 상호 배제 : 한 프로세스가 임계구역에 들어가면 다른 프로세스는 임계구역에 들어갈 수 없다.
- 한정 대기 : 특정 프로세스가 무한히 대기해서는 안 된다. 즉, 어떤 프로세스든 유한 시간 내에 임계구역에 들어갈 수 있어야 한다.
- 진행의 융통성 : 한 프로세스가 다른 프로세스의 진행을 방해해서는 안 된다.