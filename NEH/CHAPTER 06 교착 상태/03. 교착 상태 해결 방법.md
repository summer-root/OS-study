# 교착 상태 해결 방법

## 교착 상태 해결 방법

- 교착 상태 예방 : 교착 상태를 유발하는 네 가지 조건이 발생하지 않도록 무력화하는 방식이다. 그러나 실효성이 적어 잘 사용되지 않는다.
- 교착 상태 회피 : 자원을 할당하다가 교착 상태를 유발할 가능성이 있다고 판단되면 자원 할당을 중단하고 지켜보는 방식으로 교착 상태를 해결하는 방식이다. 그러나 자원을 얼마만큼 할당해야 교착 상태가 발생하지 않는지 알 수 없어 실효성이 적다.
- 교착 상태 검출 : 어떤 제약을 가하지 않고 자원 할당 그래프를 모니터링하며 교착 상태가 발생하는지 살펴보는 방식이다. 교착 상태가 발생하면 회복 단계가 진행된다.
- 교착 상태 회복 : 교착 상태를 해결하는 현실적인 접근 방법이다.

<br>



## 교착 상태 예방

교착 상태 예방에는 다음 네 가지 방법이 있다.

<br>



### 상호 배제 예방

시스템 내에 있는 독점적으로 사용할 수 있는 모든 자원을 없애는 방법이다. 모든 자원을 공유하는 경우 교착 상태가 발생하지 않는다. 그러나 보호해야 하는 자원이 있기 때문에 현실적으로 불가능하다.

<br>



### 비선점 예방

모든 자원을 빼앗을 수 있도록 만드는 것이다. 그러나 임계구역을 보호하기 위해 잠금을 사용하면 자원을 빼앗을 수 없을 뿐 아니라 상호 배제도 보장할 수 없기 때문에 사실상 불가능하다. 또한 해당 방법으로 인해 아사 현상이 발생할 수 있다. 아사 현상을 해결하기 위해 에이징을 사용하는 경우 해당 프로세스는 곧 비선점 자원이 되기 때문에 에이징을 사용하는 것 또한 불가능하다.

<br>



### 점유와 대기 예방

프로세스가 자원을 점유한 상태에서 다른 자원을 기다리지 못하게 하는 방법이다. 전부 할당하거나 아예 할당하지 않는 방식을 적용하는 것이다. 이를 위해 프로세스는 시작 초기에 자신이 사용하려는 모든 자원을 한꺼번에 점유하거나 그렇지 못할 경우 자원을 모두 반납해야 한다. 해당 방법은 자원을 변화시키는 것이 아닌 프로세스의 자원 사용 방식을 변화시켜 교착 상태를 처리한다. 

점유와 대기 예방의 단점

- 프로세스가 자신이 사용하는 모든 자원을 자세히 알기 어렵기 때문에 실행 이후 추가로 필요한 자원이 생기면 해당 자원의 확보가 어렵다.
- 프로세스가 미래에 사용할 자원까지 미리 선점하기 때문에 자원의 활용성이 떨어지고 낭비가 생긴다.
- 자원을 많이 사용하는 프로세스는 자원을 적게 사용하는 프로세스보다 자원 확보가 어려워 아사 현상이 발생할 수 있다.
- 점유와 대기 예방을 실제로 구현하면 거의 모든 프로세스가 일괄 작업 방식으로 처리되기 때문에 시스템의 효율이 떨어진다.