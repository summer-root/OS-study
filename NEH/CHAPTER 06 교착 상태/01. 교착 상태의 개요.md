# 교착 상태의 개요

## 교착 상태의 정의

2개 이상의 프로세스가 다른 프로세스의 작업이 끝나기만 기다리며 작업을 더 이상 진행하지 못하는 상태를 교착 상태라고 한다. 

교착 상태는 아사 현상과 비슷해 보이지만 차이점이 있다. 아사 현상은 운영체제가 잘못된 정책을 사용하여 특정 프로세스의 작업이 지연되는 문제이고, 교착 상태는 여러 프로세스가 작업을 진행하다 보니 자연적으로 일어나는 문제이다. 따라서 운영체제는 감시를 하다가 교착 상태가 발생하면 강압적으로 해결해야 한다.

<br>



## 교착 상태의 발생

- 시스템 자원 : 교착 상태는 다른 프로세스와 공유할 수 없는 자원을 사용할 때 발생한다. 예를 들어 어떤 프로세스가 임계구역으로 보호되는 프린터, 스캐너 등 동시에 같이 사용할 수 없는 시스템 자원을 할당받은 후 양보하지 않는 경우가 있다.
- 공유 변수 : 교착 상태는 공유 변수를 사용할 때도 발생한다. 하나의 변수를 할당받은 상태에서 다른 변수를 기다리면 교착 상태가 발생한다.
- 응용 프로그램 : 데이터베이스 같은 응용 프로그램에서도 교착 상태가 발생한다. 여러 프로세스가 데이터베이스에 저장된 데이터를 사용할 때는 데이터의 일관성을 유지해야 한다. 데이터베이스는 데이터의 일관성을 유지하기 위해 잠금을 사용하는데, 이때 교착 상태가 발생할 수 있다.

<br>



## 자원 할당 그래프

프로세스가 어떤 자원을 사용 중이고, 어떤 자원을 기다리고 있는지를 방향성이 있는 그래프로 표현한 것이다. 자원 할당 그래프를 사용하면 어떤 프로세스에 자원이 할당되어 있는지, 어떤 프로세스가 자원을 기다리고 있는지를 한눈에 파악할 수 있다.

자원 할당 그래프에서는 프로세스는 원으로, 자원은 사각형으로 표현한다. 자원을 사용하고 있는 경우(할당된 경우)는 자원으로부터 프로세스로 향하는 실선 화살표로 표시하고, 프로세스가 자원을 기다리는 경우(대기하는 경우)는 프로세스로부처 자원으로 향하는 점선 화살표로 표시한다.

자원이 2개 이상의 프로세스를 동시에 허용하는 경우를 다중 자원이라고 부른다. 다중 자원은 수용할 수 있는 프로세스 수를 사각형 안의 작은 동그라미로 표현한다.